<template>
    <lightning-card title="Group Member" icon-name="utility:user">
        <div class="slds-var-m-around_medium">
            <lightning-button variant="success" label="Members"
            title="Open popup" onclick={buttonClick}>
           </lightning-button>
        </div>
        
       <!-- modal start template 1 -->
        <template if:true={isShowModal}>
      
 <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
     <div class="slds-modal__container">
        <!-- modal header start -->
            <header class="slds-modal__header">
                 <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
                                <lightning-icon icon-name="utility:close"
                                  alternative-text="close"
                                  variant="inverse"
                                  size="small" ></lightning-icon>
                               <span class="slds-assistive-text">Close</span>
                            </button>
                            <h2 id="modal-heading-01" class="slds-text-heading_large slds-hyphenate">Group Chat</h2>
                         </header>
<!-- modal body start -->
            
<div class="slds-modal__content slds-p-bottom_none">
    <lightning-card>
            <!--table with checkbox -->
            <div class="tableHeight slds-scrollable">
                <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-no-row-hover">
                    <thead>
                        <tr class="slds-line-height_reset">
                            <!--this line select all records (all select chheckbox)-->
                            <th class="" scope="col">
                                <div class="slds-truncate">
                                    <lightning-input onchange={handleAllSelected} type="checkbox"
                                        data-key="allCheckbox">
                                    </lightning-input>
                                </div>
                            </th>

                            <th class="" scope="col">
                                <div class="slds-truncate" title="Name">Name</div>
                            </th>
                            <th class="" scope="col">
                                <div class="slds-truncate" title="Email">Email</div>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        <template for:each={data} for:item="obj">
                            <tr key={obj.Id}>
                                
                                <th scope="col">   
                                    <div>
                                        <lightning-input type="checkbox" value={obj.Id} data-id={obj.Name}
                                            data-key="firstColumnCheckbox" onchange={handleCheckboxSelect}
                                            name={obj.Id}>
                                        </lightning-input>
                                    </div>
                                </th>
                                <!--this line show fetch name data-->
                                <th scope="col">
                                    <div>{obj.Name}</div>
                                </th>
                                <th scope="col">
                                    <div>{obj.Email}</div>
                                </th>
                            
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        
    </lightning-card>
    </div>

    <!-- modal footer start-->
    <footer class="slds-modal__footer">
        <lightning-button label="Cancel" onclick={hideModalBox} variant="destructive" slot="actions" style="margin-right:10px;"></lightning-button>
         <lightning-button label="Broad Cast" variant="success" style="margin-right:10px;"></lightning-button>
        <lightning-button label="Create Group" onclick={getAllSelectedRecord} variant="brand" slot="actions" style="margin-right:10px;">
        </lightning-button>

        <!--for input-->
        <lightning-button label="Create record" variant="brand" onclick={onCreateRecord}></lightning-button>
        <lightning-input placeholder="Enter Group Name" onchange={handleNameChange}
                      class="slds-m-bottom_x-small"></lightning-input>
     </footer>
     
    </div>
</section>
    </template>
    </lightning-card>



</template>